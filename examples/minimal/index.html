<style>
    body {
        margin: 0;
        font-family: sans-serif;
    }
</style>

<div id="root"></div>

<script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>

<script src="../../dist/index.js"></script>

<script>
    let config = {
        panels: [{
            location: { contig: 'chr1', x0: 0, x1: 249e6 }
        }],
        tracks: [{
            type: 'signal',
            name: 'Signal',
            path: 'bigwig-test/ENCFF000WGM.bigWig',
        }, {
            type: 'signal',
            name: 'Signal',
            path: 'bigwig-test/ENCFF000WGM.bigWig',
        }],
    };

    if (window.location.hash) {
        config = JSON.parse(decodeURIComponent(window.location.hash.substr(1)));
    }

    let browser = new GenomeBrowser('./manifest.json', config);
    let container = document.getElementById('root');

    window.addEventListener('resize', update);

    update();

    function update() {
        ReactDOM.render(browser.render({
            width: window.innerWidth,
            height: window.innerHeight
        }), container);
    }

    function saveState() {
        window.history.replaceState(null, null, '#' + JSON.stringify(browser.getConfiguration()));
    }

</script>